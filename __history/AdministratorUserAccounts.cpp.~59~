//---------------------------------------------------------------------------

#include <fmx.h>
#pragma hdrstop

#include "School.h"
#include "Administrator.h"
#include "AdministratorHome.h"
#include "AdministratorUserAccounts.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma link "AdministratorUIParent"
#pragma resource "*.fmx"
TAdministratorUserAccountsForm *AdministratorUserAccountsForm;
//---------------------------------------------------------------------------
__fastcall TAdministratorUserAccountsForm::TAdministratorUserAccountsForm(TComponent* Owner)
	: TAdministratorUIParentForm(Owner)
{
}
//---------------------------------------------------------------------------
void __fastcall TAdministratorUserAccountsForm::PopulateGridWithAdministrators(const std::vector<std::unique_ptr<User>>& administrators)
{
	// Set the column count based on the number of attributes
	StringGrid1->ColumnCount = 11; // Based on the attributes in the User class

    // Set the row count based on the number of administrators
    StringGrid1->RowCount = administrators.size() + 1; // Adding 1 for the header row

    // Add headers for the columns
    StringGrid1->Items->SetValue(0, 0, "User ID");
    StringGrid1->Items->SetValue(1, 0, "Email");
    StringGrid1->Items->SetValue(2, 0, "Password");
    StringGrid1->Items->SetValue(3, 0, "First Name");
    StringGrid1->Items->SetValue(4, 0, "Last Name");
    StringGrid1->Items->SetValue(5, 0, "Gender");
    StringGrid1->Items->SetValue(6, 0, "Date of Birth");
    StringGrid1->Items->SetValue(7, 0, "Phone Number");
    StringGrid1->Items->SetValue(8, 0, "Address");
    StringGrid1->Items->SetValue(9, 0, "Security Question");
    StringGrid1->Items->SetValue(10, 0, "Security Answer");

    for (size_t i = 0; i < administrators.size(); i++)
    {
        const User* admin = administrators[i].get();

        StringGrid1->Items->SetValue(0, i+1, admin->GetUserID().c_str());
        StringGrid1->Items->SetValue(1, i+1, admin->GetEmail().c_str());
        StringGrid1->Items->SetValue(2, i+1, admin->GetPassword().c_str());
        StringGrid1->Items->SetValue(3, i+1, admin->GetFirstName().c_str());
        StringGrid1->Items->SetValue(4, i+1, admin->GetLastName().c_str());
        StringGrid1->Items->SetValue(5, i+1, admin->GetGender().c_str());
        StringGrid1->Items->SetValue(6, i+1, admin->GetDateOfBirth().c_str());
        StringGrid1->Items->SetValue(7, i+1, admin->GetPhoneNumber().c_str());
        StringGrid1->Items->SetValue(8, i+1, admin->GetAddress().c_str());
        StringGrid1->Items->SetValue(9, i+1, admin->GetSecurityQuestion().c_str());
        StringGrid1->Items->SetValue(10, i+1, admin->GetSecurityAnswer().c_str());
    }
}

